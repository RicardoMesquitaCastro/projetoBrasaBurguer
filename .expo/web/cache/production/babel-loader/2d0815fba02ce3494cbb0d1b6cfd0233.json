{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Text from\"react-native-web/dist/exports/Text\";import Modal from\"react-native-web/dist/exports/Modal\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Platform from\"react-native-web/dist/exports/Platform\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Button from\"react-native-web/dist/exports/Button\";import Cart from\"./Cart\";var _Dimensions$get=Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;console.disableYellowBox=true;import Swiper from'react-native-swiper';import Icon from\"@expo/vector-icons/Ionicons\";import AsyncStorage from'@react-native-async-storage/async-storage';import Adicionals from\"./Adicionals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={dataBanner:[],dataCategories:[],dataFood:[],selectCatg:1,modalVisible:false};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url=\"https://asunzlkemagjewlxkgoic6gl5q0excni.lambda-url.us-east-1.on.aws/\";return fetch(url).then(function(response){return response.json();}).then(function(responseJson){_this2.setState({isLoading:false,dataBanner:responseJson.banner,dataCategories:responseJson.categories,datadescription:responseJson.description,dataFood:responseJson.food,dataAdicionals:responseJson.adicionals,datacart:responseJson});}).catch(function(error){console.error(error);});}},{key:\"setModalVisible\",value:function setModalVisible(visible){this.setState({modalVisible:visible});}},{key:\"onRequestClose\",value:function onRequestClose(){this.setModalVisible(false);}},{key:\"render\",value:function render(){var _this3=this;return _jsx(ScrollView,{children:_jsxs(View,{style:{flex:1,backgroundColor:\"#f2f2f2\"},children:[_jsxs(View,{style:{width:width,alignItems:'center'},children:[_jsx(Image,{style:{height:100,width:width/2,margin:10},resizeMode:\"contain\",source:require(\"../assets/images/brasalogo.png\")}),_jsx(Swiper,{style:{height:width/2},showsButtons:false,autoplay:true,autoplayTimeout:2,children:this.state.dataBanner.map(function(itembann){return _jsx(Image,{style:styles.imageBanner,resizeMode:\"cover\",source:{uri:itembann}});})})]}),_jsxs(View,{style:{width:width,borderRadius:20,paddingVertical:20,backgroundColor:'white'},children:[_jsx(Text,{style:styles.titleCatg,children:\"Categorias\"}),_jsx(FlatList,{style:{alignSelf:'center'},horizontal:true,data:this.state.dataCategories,renderItem:function renderItem(_ref){var item=_ref.item;return _this3._renderItem(item);},keyExtractor:function keyExtractor(item,index){return index.toString();}}),_jsxs(View,{children:[_jsx(FlatList,{data:this.state.dataFood,numColumns:2,renderItem:function renderItem(_ref2){var item=_ref2.item;return _this3._renderItemFood(item);},keyExtractor:function keyExtractor(item,index){return index.toString();}}),_jsxs(Modal,{animationType:\"slide\",transparent:false,visible:this.state.modalVisible,onRequestClose:function onRequestClose(){return _this3.onRequestClose(false);},children:[_jsx(Cart,{}),_jsx(Button,{color:\"#ff7200\",borderRadius:\"5\",title:\"Voltar\",onPress:function onPress(){_this3.setState({modalVisible:false});}})]})]})]})]})});}},{key:\"_renderItemFood\",value:function _renderItemFood(item,props){var _this4=this;var catg=this.state.selectCatg;if(catg==0||catg==item.categorie){return _jsxs(TouchableOpacity,{style:styles.divFood,children:[_jsx(Image,{style:styles.imageFood,resizeMode:\"cover\",source:{uri:item.image}}),_jsx(View,{style:{height:width/2-20-90,backgroundColor:'transparent',width:width/2-20-10}}),_jsx(Text,{style:{fontWeight:'bold',fontSize:22,textAlign:'center'},children:item.name}),_jsx(Text,{children:item.description}),_jsxs(Text,{style:{fontSize:20,color:\"green\",fontWeight:'bold'},children:[\"R$ \",item.price,\",00\"]}),_jsxs(TouchableOpacity,{onPress:function onPress(){return _this4.onClickAddCart(item);},style:{width:width/2-40,backgroundColor:'#ff7200',flexDirection:'column',alignItems:'center',justifyContent:\"center\",borderRadius:5,padding:1},children:[_jsx(Text,{style:{fontSize:18,color:\"white\",fontWeight:\"bold\"},children:\"Adicionar\"}),_jsx(View,{style:{width:10}}),_jsx(Icon,{name:\"ios-add-circle\",size:30,color:\"white\"})]})]});}}},{key:\"_renderItem\",value:function _renderItem(item){var _this5=this;return _jsxs(TouchableOpacity,{style:[styles.divCategorie,{backgroundColor:item.color}],onPress:function onPress(){return _this5.setState({selectCatg:item.id});},children:[_jsx(Image,{style:{width:100,height:80},resizeMode:\"contain\",source:{uri:item.image}}),_jsx(Text,{style:{fontWeight:'bold',fontSize:22},children:item.name})]});}},{key:\"onClickAddCart\",value:function onClickAddCart(data){var itemcart={food:data,quantity:1,price:data.price};AsyncStorage.getItem('cart').then(function(datacart){if(datacart!==null){var cart=JSON.parse(datacart);cart.push(itemcart);AsyncStorage.setItem('cart',JSON.stringify(cart));}else{var _cart=[];_cart.push(itemcart);AsyncStorage.setItem('cart',JSON.stringify(_cart));}alert(\"Pedido adicionado\");}).catch(function(err){alert(err);});}}]);return App;}(Component);export{App as default};var styles=StyleSheet.create({imageBanner:{height:width/2,width:width-30,borderRadius:10,marginHorizontal:10},divCategorie:{backgroundColor:'red',margin:5,alignItems:'center',borderRadius:10,padding:10},titleCatg:{fontSize:30,fontWeight:'bold',textAlign:'center',marginBottom:10},imageFood:{width:width/2-20-10,height:width/2-20-30,backgroundColor:'transparent',position:'absolute',top:-45},divFood:{width:width/2-20,padding:10,borderRadius:10,marginTop:55,marginBottom:5,marginLeft:10,alignItems:'center',elevation:8,shadowOpacity:0.3,shadowRadius:50,backgroundColor:'white'}});","map":{"version":3,"sources":["C:/Users/ricar/OneDrive/√Årea de Trabalho/myBuild git/pages/Food.js"],"names":["React","Component","Cart","Dimensions","get","height","width","console","disableYellowBox","Swiper","Icon","AsyncStorage","Adicionals","App","props","state","dataBanner","dataCategories","dataFood","selectCatg","modalVisible","url","fetch","then","response","json","responseJson","setState","isLoading","banner","categories","datadescription","description","food","dataAdicionals","adicionals","datacart","catch","error","visible","setModalVisible","flex","backgroundColor","alignItems","margin","require","map","itembann","styles","imageBanner","uri","borderRadius","paddingVertical","titleCatg","alignSelf","item","_renderItem","index","toString","_renderItemFood","onRequestClose","catg","categorie","divFood","imageFood","image","fontWeight","fontSize","textAlign","name","color","price","onClickAddCart","flexDirection","justifyContent","padding","divCategorie","id","data","itemcart","quantity","getItem","cart","JSON","parse","push","setItem","stringify","alert","err","StyleSheet","create","marginHorizontal","marginBottom","position","top","marginTop","marginLeft","elevation","shadowOpacity","shadowRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Text, Modal, FlatList,Image,StyleSheet,Dimensions,View,ScrollView,Platform,TouchableOpacity,Button} from 'react-native';\r\n//import Adicionals from '../components/Adicionals';\r\nimport Cart from './Cart';\r\n\r\n\r\n\r\n\r\nvar {height, width } = Dimensions.get('window');\r\nconsole.disableYellowBox = true;\r\n\r\nimport Swiper from 'react-native-swiper';\r\nimport Icon from 'react-native-vector-icons/Ionicons';\r\nimport AsyncStorage  from '@react-native-async-storage/async-storage';\r\n//import Badge from '../components/badge/Badge';\r\nimport Adicionals from './Adicionals';\r\n\r\n\r\n\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n \r\n\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n    this.state = {\r\n      dataBanner:[],\r\n      dataCategories:[],\r\n      dataFood:[],\r\n      selectCatg:1,\r\n      //dataAdicionals:[],\r\n      modalVisible:false\r\n      \r\n    };\r\n    \r\n    \r\n  }\r\n  \r\n///////////////////////////////////////Chama a API\r\n  componentDidMount(){\r\n    const url = \"https://asunzlkemagjewlxkgoic6gl5q0excni.lambda-url.us-east-1.on.aws/\"\r\n    return fetch(url)\r\n    .then((response) => response.json())\r\n    .then((responseJson) => {\r\n\r\n      this.setState({\r\n        isLoading: false,\r\n        dataBanner: responseJson.banner,\r\n        dataCategories: responseJson.categories,\r\n        datadescription: responseJson.description,\r\n        dataFood:responseJson.food,\r\n        dataAdicionals:responseJson.adicionals,\r\n        datacart:responseJson\r\n        \r\n      });\r\n\r\n    })\r\n    .catch((error) =>{\r\n      console.error(error);\r\n    });\r\n  }\r\n  setModalVisible(visible) {\r\n    this.setState({modalVisible: visible});\r\n  }\r\n\r\n  onRequestClose(){\r\n    //console.log(\"onRequestClose\");\r\n    this.setModalVisible(false);\r\n  }\r\n  \r\n//////////////////////////////////////renderizando//////////////////////////////////////////////\r\n  \r\n  render() {\r\n    \r\n   \r\n    return (\r\n      <ScrollView>\r\n     \r\n        <View style={{ flex: 1,backgroundColor:\"#f2f2f2\" }}>\r\n          <View style={{width: width, alignItems:'center'}} >\r\n              <Image style={{height:100,width:width/2,margin:10 }} resizeMode=\"contain\" source={require(\"../assets/images/brasalogo.png\")}  />\r\n             \r\n              <Swiper style={{height:width/2}}  showsButtons={false} autoplay={true} autoplayTimeout={2}>\r\n                {\r\n                  this.state.dataBanner.map((itembann)=>{\r\n                    return(  \r\n                      <Image style={styles.imageBanner} resizeMode=\"cover\" source={{uri:itembann}}/>\r\n                    \r\n                    )\r\n                  })\r\n                }\r\n              </Swiper>\r\n            </View>\r\n            <View style={{width:width, borderRadius:20, paddingVertical:20, backgroundColor:'white'}}>\r\n            <Text style={styles.titleCatg}>Categorias</Text>\r\n            <FlatList style={{alignSelf:'center'}}\r\n              horizontal={true}\r\n              data={this.state.dataCategories}\r\n              renderItem={({ item }) => this._renderItem(item)}\r\n              keyExtractor = { (item,index) => index.toString() }\r\n              \r\n            />            \r\n            \r\n            <View>\r\n            <FlatList\r\n              data={this.state.dataFood}\r\n              numColumns={2}\r\n              renderItem={({ item }) => this._renderItemFood(item)}\r\n              keyExtractor = { (item,index) => index.toString() }>\r\n \r\n            </FlatList>\r\n            <Modal   //Modal que cha o Adicionals\r\n          animationType=\"slide\"\r\n          transparent={false}\r\n          visible={this.state.modalVisible}\r\n          onRequestClose={() => this.onRequestClose(false)}>\r\n            \r\n            <Cart/>\r\n            \r\n            <Button color='#ff7200'\r\n            borderRadius='5'\r\n\r\n    title=\"Voltar\"\r\n    onPress={() => {\r\n      this.setState({ modalVisible: false });\r\n    }}\r\n  />\r\n            </Modal>\r\n         </View>                     \r\n        </View>\r\n        </View>\r\n        </ScrollView>\r\n    );\r\n  }\r\n\r\n  \r\n  ////////////////////////////para renderizar itens do cardapio////////////////////////////////////////////////////////\r\n\r\n  _renderItemFood(item,props){\r\n    \r\n    let catg = this.state.selectCatg\r\n    if(catg==0||catg==item.categorie)\r\n    {\r\n      return(\r\n        <TouchableOpacity style={styles.divFood}>\r\n          \r\n          <Image\r\n            style={styles.imageFood}\r\n            resizeMode=\"cover\"\r\n            source={{uri:item.image}} />\r\n            <View style={{height:((width/2)-20)-90, backgroundColor:'transparent', width:((width/2)-20)-10}} />\r\n            <Text style={{fontWeight:'bold',fontSize:22,textAlign:'center'}}>\r\n              {item.name}\r\n            </Text>\r\n            <Text>{item.description}</Text>\r\n            <Text style={{fontSize:20,color:\"green\", fontWeight:'bold'}}>R$ {item.price},00</Text>\r\n                                          \r\n            <TouchableOpacity\r\n         // onPress={() => this.setModalVisible(props)}\r\n         onPress={()=>this.onClickAddCart(item)}\r\n            style={{\r\n              width:(width/2)-40,\r\n              backgroundColor:'#ff7200',\r\n              flexDirection:'column',\r\n              alignItems:'center',\r\n              justifyContent:\"center\",\r\n              borderRadius:5,\r\n              padding:1\r\n            }}>\r\n              \r\n               \r\n            <Text style={{fontSize:18, color:\"white\", fontWeight:\"bold\"}}>Adicionar</Text>\r\n            <View style={{width:10}} />\r\n            <Icon name=\"ios-add-circle\" size={30} color={\"white\"} />\r\n          </TouchableOpacity>\r\n          </TouchableOpacity>\r\n          \r\n          \r\n         \r\n          \r\n        )\r\n        \r\n    }\r\n  }\r\n\r\n/////////////////////////////////para renderizar categorias//////////////////////////////////////////////////////////////////////\r\n_renderItem(item)\r\n{\r\n    return(\r\n      <TouchableOpacity style={[styles.divCategorie,{backgroundColor:item.color}]}\r\n      onPress={()=>this.setState({selectCatg:item.id})}>\r\n        <Image\r\n          style={{width:100,height:80}}\r\n          resizeMode=\"contain\"\r\n          source={{uri : item.image}} />\r\n        <Text style={{fontWeight:'bold',fontSize:22}}>{item.name}</Text>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  \r\n \r\n \r\n  \r\n\r\n  //////////////////////////////bot√£o que adiciona o hamburguer///////////////////////////////////////////////////////\r\n  onClickAddCart(data){\r\n\r\n    const itemcart = {\r\n      food: data,\r\n      quantity: 1,\r\n      price: data.price\r\n    }\r\n \r\n    AsyncStorage.getItem('cart').then((datacart)=>{\r\n        if (datacart !== null) {\r\n          // We have data!!\r\n          const cart = JSON.parse(datacart)\r\n          cart.push(itemcart)\r\n          AsyncStorage.setItem('cart',JSON.stringify(cart));\r\n        }\r\n        \r\n      \r\n            //  this.setState({dataCart:cartfood})}\r\n        else {\r\n          const cart  = []\r\n          cart.push(itemcart)\r\n          AsyncStorage.setItem('cart',JSON.stringify(cart));\r\n        }\r\n        alert(\"Pedido adicionado\")\r\n      })\r\n      .catch((err)=>{\r\n        alert(err)\r\n      })\r\n  }  \r\n\r\n}\r\n\r\n\r\n\r\n/////////////////////////////////////CSS////////////////////////////////////////////////////////////////\r\nconst styles = StyleSheet.create({\r\n  imageBanner: {\r\n    height:width/2,\r\n    width:width-30,\r\n    borderRadius:10,\r\n    marginHorizontal:10\r\n  }, \r\n  divCategorie:{\r\n    backgroundColor:'red',\r\n    margin:5, alignItems:'center',\r\n    borderRadius:10,\r\n    padding:10\r\n  },\r\n  titleCatg:{\r\n    fontSize:30,\r\n    fontWeight:'bold',\r\n    textAlign:'center',\r\n    marginBottom:10\r\n  }, \r\n  imageFood:{\r\n    width:((width/2)-20)-10,\r\n    height:((width/2)-20)-30,\r\n    backgroundColor:'transparent',\r\n    position:'absolute',\r\n    top:-45\r\n  },\r\n  divFood:{\r\n    width:(width/2)-20,\r\n    padding:10,\r\n    borderRadius:10,\r\n    marginTop:55,\r\n    marginBottom:5,\r\n    marginLeft:10,\r\n    alignItems:'center',\r\n    elevation:8,\r\n    shadowOpacity:0.3,\r\n    shadowRadius:50,\r\n    backgroundColor:'white',\r\n  }\r\n});\r\n\r\n\r\n\r\n/*\r\n<Button\r\n      title=\"Back\"\r\n      onPress={() => {this.setModalVisible(true)}}\r\n    />\r\n    */\r\n     "]},"metadata":{},"sourceType":"module"}